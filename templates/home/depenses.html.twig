{% extends 'base.html.twig' %}
{% block title %} dépenses{% endblock %}

{% block body %}
    <section>
        <div class="">
            <div class="">
               {# <form action="">
                    <h2 class="text-xl my-3">Triez les dépots</h2>
                    <div class="">
                        <select class="border py-1 px-3" name="mois" id="mois">
                            <option value="">janvier</option>
                            <option value="">fevrier</option>
                            <option value="">mars</option>
                            <option value="">avril</option>
                            <option value="">mai</option>
                            <option value="">juin</option>
                            <option value="">juillet</option>
                            <option value="">aout</option>
                            <option value="">septembre</option>
                            <option value="">octobre</option>
                            <option value="">novembre</option>
                            <option value="">decembre</option>
                        </select>
                        <select class="border py-1 px-3" name="annee" id="annee">
                            <option value="">2021</option>
                            <option value="">2022</option>
                            <option value="">2023</option>
                        </select>
                        <button type="submit" class="bg-purple-500 py-1 px-3 text-white"><i class="fa fa-search"></i></button>
                    </div>
                </form>
                #}
            </div>
            <div class="mt-8">
                <h1 class="text-3xl my-3">Toutes les dépenses</h1>
                <table class="w-full text-center">
                    <thead class="bg-black text-white">
                    <tr>
                        <th>Somme</th>
                        <th>motif</th>
                        <th>Date</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for depense in depenses %}
                        <tr class="{% if loop.index is even %}bg-gray-300{% endif %}">
                            <td>{{ depense.somme}}</td>
                            <td>{{ depense.motif}}</td>
                            <td>{{ depense.created | date(' d M Y')}}</td>
                        </tr>
                    {% endfor %}

                    </tbody>
                </table>
                <div class="text-center my-5">
                    <div class="flex justify-center items-start text-blue-600">
                        <div class="">
                            {% if page == 1 %}
                                <span class="py-1 px-3 border" >&laquo;</span>
                            {% else %}
                                <a class="py-1 px-3 border" href="{{ path('depenses_public',{'page' : page - 1 }) }}">&laquo;</a>
                            {% endif %}
                        </div>
                        {% for i in 1..pages %}
                            <div class=" ">
                                <a class="py-1 px-3 border {% if page == i %} bg-blue-600 text-white {% endif %}" href="{{ path('depenses_public',{'page': i }) }}">{{ i }}</a>
                            </div>
                        {% endfor %}
                        <div class="">
                            {% if page == pages %}
                                <span class="py-1 px-3 border" >&raquo;</span>
                            {% else %}
                                <a class="py-1 px-3 border" href="{{ path('depenses_public',{'page' : page + 1 }) }}">&raquo;</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}